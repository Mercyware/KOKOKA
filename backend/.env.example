# =============================================================================
# KOKOKA SCHOOL MANAGEMENT SYSTEM - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env file to version control

# =================================
# APPLICATION SETTINGS
# =================================
NODE_ENV=development
PORT=5000
HOST=localhost
APP_NAME=KOKOKA
APP_VERSION=2.0.0

# URLs and Domains
API_URL=http://localhost:5000/api
FRONTEND_URL=http://localhost:3000
MAIN_DOMAIN=schoolmanagement.com

# =================================
# DATABASE CONFIGURATION (PostgreSQL)
# =================================
# PostgreSQL Database URL - Primary database (for Prisma)
DATABASE_URL=postgresql://kokoka_user:kokoka_password@localhost:5432/kokoka

# Database Connection Pool Settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_POOL_TIMEOUT=30000

# =================================
# REDIS CONFIGURATION
# =================================
# Redis Connection (URL format for Docker/Cloud) - Preferred method
REDIS_URL=redis://:redis_password@localhost:6379

# Alternative individual settings (used if REDIS_URL not provided)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_password
REDIS_DB=0

# =================================
# AUTHENTICATION & SECURITY
# =================================
# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production-minimum-32-characters
JWT_REFRESH_SECRET=your-super-secret-jwt-refresh-key-change-in-production-minimum-32-characters
JWT_EXPIRE=1d
JWT_REFRESH_EXPIRE=7d
JWT_ISSUER=kokoka-school-management
JWT_AUDIENCE=kokoka-users
JWT_ALGORITHM=HS256

# Session Configuration (Redis-based sessions)
SESSION_SECRET=your-session-secret-change-in-production-minimum-32-characters
SESSION_MAX_AGE=604800000
SESSION_SECURE=false
SESSION_SAME_SITE=lax

# OAuth Configuration
GOOGLE_CLIENT_ID=your-google-oauth-client-id
GOOGLE_CLIENT_SECRET=your-google-oauth-client-secret
LINKEDIN_CLIENT_ID=your-linkedin-oauth-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-oauth-client-secret

# Password Security
PASSWORD_RESET_EXPIRE=10
ACTIVATION_TOKEN_EXPIRE=1440
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=30
ENCRYPTION_KEY=your-encryption-key-32-chars-long

# =================================
# CORS & SECURITY SETTINGS
# =================================
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_CREDENTIALS=true

# Security Middleware
HELMET_ENABLED=true
XSS_PROTECTION_ENABLED=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# =================================
# FILE UPLOAD & STORAGE
# =================================
FILE_BASE_URL=/uploads
UPLOAD_MAX_SIZE=104857600
FILE_UPLOAD_MAX_SIZE=5242880
FILE_UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# =================================
# EMAIL CONFIGURATION
# =================================
# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Alternative email settings (for backward compatibility)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-email-password
EMAIL_FROM=KOKOKA School Management <noreply@kokoka.com>

# Email Features
EMAIL_ENABLED=false
FEATURE_EMAIL_ENABLED=true

# =================================
# SMS CONFIGURATION
# =================================
# SMS Provider Configuration
SMS_PROVIDER=twilio
SMS_API_KEY=your-sms-api-key
SMS_API_SECRET=your-sms-api-secret
SMS_FROM=KOKOKA
FEATURE_SMS_ENABLED=true

# =================================
# AI INTEGRATION
# =================================
# AI Provider Configuration
AI_PROVIDER=openai
AI_API_KEY=your-openai-api-key
AI_API_URL=https://api.openai.com/v1
AI_MODEL=gpt-4
AI_MAX_TOKENS=1000
AI_TEMPERATURE=0.7

# Alternative OpenAI settings (for backward compatibility)
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4

# AI Features
FEATURE_AI_ENABLED=true

# =================================
# FEATURE FLAGS
# =================================
FEATURE_ATTENDANCE_QR=true
FEATURE_PARENT_PORTAL=true
FEATURE_DOCUMENT_MANAGEMENT=true
FEATURE_GRADING_SYSTEM=true
MAINTENANCE_MODE=false

# =================================
# LOGGING & DEBUGGING
# =================================
LOG_LEVEL=info
DEBUG=false
ENABLE_REQUEST_LOGGING=true
ENABLE_DB_LOGGING=false

# =================================
# SWAGGER DOCUMENTATION
# =================================
API_CONTACT_EMAIL=support@kokoka.com
PRODUCTION_API_URL=https://api.kokoka.com

# =============================================================================
# DEVELOPMENT NOTES
# =============================================================================
# - This configuration is for PostgreSQL + Redis architecture
# - MongoDB settings have been removed in favor of PostgreSQL
# - Redis is used for sessions, caching, and pub/sub
# - All legacy MongoDB environment variables have been cleaned up
# - For Docker deployment, ensure DATABASE_URL and REDIS_URL point to containers
# - In production, use strong secrets and proper SSL/TLS configuration